{% extends "layout.html" %} {% load static %} {% block title %}Address - LOGO
{% endblock %} {% block extra_head %}
<link rel="stylesheet" href="{% static 'accounts/address.css' %}" />
{% endblock %} {% block content %}
<main class="container">
  <section class="address-section">
    <h1>Address Details</h1>
    <form
      method="POST"
      action="{% url 'accounts:save_address' %}"
      id="address-form"
      {% if not addresses %}
      style="display:block;"
      {% endif %}
    >
      {% csrf_token %}
      <div class="form-group">
        <label for="phone_number">Phone Number</label>
        <input
          type="text"
          id="phone_number"
          name="phone_number"
          required
          placeholder="Enter your phone number"
        />
      </div>
      <div class="form-group">
        <label for="address_line1">Address Line 1</label>
        <input
          type="text"
          id="address_line1"
          name="address_line1"
          required
          placeholder="Enter address line 1"
        />
      </div>
      <div class="form-group">
        <label for="address_line2">Address Line 2</label>
        <input
          type="text"
          id="address_line2"
          name="address_line2"
          placeholder="Enter address line 2 (optional)"
        />
      </div>
      <div class="form-group">
        <label for="city">City</label>
        <input
          type="text"
          id="city"
          name="city"
          required
          placeholder="Enter your city"
        />
      </div>
      <div class="form-group">
        <label for="postal_code">Postal Code</label>
        <input
          type="text"
          id="postal_code"
          name="postal_code"
          required
          placeholder="Enter your postal code"
        />
      </div>
      <div class="form-group">
        <label for="country">Country</label>
        <input
          type="text"
          id="country"
          name="country"
          required
          placeholder="Enter your country"
        />
      </div>
      <button type="submit" class="save-address-btn">Save Address</button>
    </form>

    {% if addresses %}
    <hr />
    <h2>Your Saved Addresses</h2>
    <ul>
      {% for addr in addresses %}
      <li class="saved-address">
        <input placeholder="checkbox" type="checkbox" {% if addr.default %}checked{% endif %} />
        <p>
          {{ addr.line1 }}, {{ addr.city }}, {{ addr.country }} {% if addr.default %}<strong>(Default)</strong>{% endif %}
        </p>
      </li>
      {% endfor %}
    </ul>
    {% endif %} {% if addresses %}
    <div class="add-new-address">
      <button type="button" id="add-new-address-btn">Add New Address</button>
      <a href="{% url 'cart:cart_view' %}">
        <button type="button" id="proceed-to-pay">Back</button>
      </a>
    </div>
    {% endif %}
  </section>
</main>
{% endblock %} {% block scripts %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("address-form");
    const addNewAddressBtn = document.getElementById("add-new-address-btn");

    if (addNewAddressBtn && form) {
      addNewAddressBtn.addEventListener("click", function () {
        form.style.display = "block";
        addNewAddressBtn.style.display = "none";
      });
    }

    const proceedToPayBtn = document.getElementById("proceed-to-pay");

    if (proceed)
  });
</script>
{% endblock %}
